{"version":3,"sources":["webpack:///./src/views/Address/Address.vue?50cc","webpack:///./src/views/Address/Address.vue?b280","webpack:///src/views/Address/Address.vue","webpack:///./src/views/Address/Address.vue?95e2","webpack:///./src/views/Address/Address.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","onClickLeft","_l","address","key","id","username","telephone","province","city","area","$event","editAddress","deleteAddress","addBtn","_v","addressTitle","model","value","callback","$$v","show","expression","ref","addressForm","required","message","$set","addressStr","addressShow","submitAddress","style","height","areaList","onConfirm","onCancel","staticRenderFns","data","addressData","userId","computed","methods","queryUser","getUserInfo","$router","go","$dialog","val","name","$refs","myArea","reset","userInfo","form","created","getAllAddress","component"],"mappings":"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","file":"static/js/chunk-64a8d0aa.2f02745b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Address.vue?vue&type=style&index=0&id=7ba6d914&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"address\"},[_c('div',{staticClass:\"header\"},[_c('van-nav-bar',{staticStyle:{\"background-image\":\"linear-gradient(-20deg, #ddd6f3 0%, #faaca8 100%, #faaca8 100%)\"},attrs:{\"title\":\"常用地址\",\"left-text\":\"返回\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticStyle:{\"height\":\"40px\"}})],1),_vm._l((_vm.addressData),function(address){return _c('van-cell',{key:address.id,attrs:{\"title\":address.username + ' ' + address.telephone,\"label\":address.province + address.city + address.area + address.address}},[_c('van-icon',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"name\":\"edit\",\"size\":\"22\",\"color\":\"#1989fa\"},on:{\"click\":function($event){return _vm.editAddress(address)}}}),_c('van-icon',{staticStyle:{\"margin-top\":\"20px\",\"margin-left\":\"10px\"},attrs:{\"name\":\"delete-o\",\"size\":\"22\",\"color\":\"#1989fa\"},on:{\"click\":function($event){return _vm.deleteAddress(address.id)}}})],1)}),_c('div',{staticStyle:{\"height\":\"120px\"}}),_c('div',{staticClass:\"btn\"},[_c('van-button',{staticClass:\"addBtn\",attrs:{\"round\":\"\",\"block\":\"\"},on:{\"click\":_vm.addBtn}},[_vm._v(\"新增地址\")])],1),_c('van-action-sheet',{attrs:{\"title\":_vm.addressTitle},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"content\"},[_c('van-form',{ref:\"form\",attrs:{\"model\":_vm.addressForm}},[_c('van-field',{attrs:{\"label\":\"姓名\",\"placeholder\":\"请输入收货人姓名\",\"rules\":[{ required: true, message: '请输入收货人姓名' }]},model:{value:(_vm.addressForm.username),callback:function ($$v) {_vm.$set(_vm.addressForm, \"username\", $$v)},expression:\"addressForm.username\"}}),_c('van-field',{attrs:{\"label\":\"电话\",\"placeholder\":\"请输入收货人号码\",\"rules\":[{ required: true, message: '请输入正确手机号码' }]},model:{value:(_vm.addressForm.telephone),callback:function ($$v) {_vm.$set(_vm.addressForm, \"telephone\", $$v)},expression:\"addressForm.telephone\"}}),_c('van-field',{attrs:{\"label\":\"地区选择\",\"readonly\":\"\",\"clickable\":\"\",\"value\":this.addressStr,\"placeholder\":\"请选择地区\",\"rules\":[{ required: true, message: '请输入地址' }]},on:{\"click\":function($event){_vm.addressShow = true}}}),_c('van-field',{attrs:{\"label\":\"详细地址\",\"placeholder\":\"请输入详细地址\",\"rules\":[{ required: true, message: '请输入详细地址' }]},model:{value:(_vm.addressForm.address),callback:function ($$v) {_vm.$set(_vm.addressForm, \"address\", $$v)},expression:\"addressForm.address\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{staticClass:\"addBtn\",attrs:{\"round\":\"\",\"block\":\"\"},on:{\"click\":_vm.submitAddress}},[_vm._v(\"提交\")])],1)],1)],1)]),_c('van-popup',{style:({ height: '45%' }),attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.addressShow),callback:function ($$v) {_vm.addressShow=$$v},expression:\"addressShow\"}},[_c('van-area',{ref:\"myArea\",attrs:{\"area-list\":_vm.areaList},on:{\"confirm\":_vm.onConfirm,\"cancel\":_vm.onCancel}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"address\">\n    <!-- 头部导航栏 -->\n    <div class=\"header\">\n      <van-nav-bar\n        style=\"background-image: linear-gradient(-20deg, #ddd6f3 0%, #faaca8 100%, #faaca8 100%);\"\n        title=\"常用地址\"\n        left-text=\"返回\"\n        fixed\n        left-arrow\n        @click-left=\"onClickLeft\"\n      />\n      <!-- 占位 -->\n      <div style=\"height: 40px\"></div>\n    </div>\n    <!-- 地址列表 -->\n    <van-cell\n      v-for=\"address in addressData\"\n      :key=\"address.id\"\n      :title=\"address.username + ' ' + address.telephone\"\n      :label=\"address.province + address.city + address.area + address.address\"\n    >\n      <van-icon\n        name=\"edit\"\n        size=\"22\"\n        color=\"#1989fa\"\n        style=\"margin-top: 20px\"\n        @click=\"editAddress(address)\"\n      />\n      <van-icon\n        name=\"delete-o\"\n        size=\"22\"\n        color=\"#1989fa\"\n        style=\"margin-top: 20px;margin-left:10px;\"\n        @click=\"deleteAddress(address.id)\"\n      />\n    </van-cell>\n    <div style=\"height: 120px\"></div>\n    <!-- 新增按钮 -->\n    <div class=\"btn\">\n      <van-button round block class=\"addBtn\" @click=\"addBtn\"\n        >新增地址</van-button\n      >\n    </div>\n\n    <!-- 地址面板 -->\n    <van-action-sheet v-model=\"show\" :title=\"addressTitle\">\n      <div class=\"content\">\n        <van-form :model=\"addressForm\" ref=\"form\">\n          <van-field\n            label=\"姓名\"\n            placeholder=\"请输入收货人姓名\"\n            v-model=\"addressForm.username\"\n            :rules=\"[{ required: true, message: '请输入收货人姓名' }]\"\n          />\n          <van-field\n            label=\"电话\"\n            placeholder=\"请输入收货人号码\"\n            v-model=\"addressForm.telephone\"\n            :rules=\"[{ required: true, message: '请输入正确手机号码' }]\"\n          />\n          <van-field\n            label=\"地区选择\"\n            readonly\n            clickable\n            @click=\"addressShow = true\"\n            :value=\"this.addressStr\"\n            placeholder=\"请选择地区\"\n            :rules=\"[{ required: true, message: '请输入地址' }]\"\n          />\n          <van-field\n            label=\"详细地址\"\n            placeholder=\"请输入详细地址\"\n            v-model=\"addressForm.address\"\n            :rules=\"[{ required: true, message: '请输入详细地址' }]\"\n          />\n          <div style=\"margin: 16px\">\n            <van-button round block @click=\"submitAddress\" class=\"addBtn\"\n              >提交</van-button\n            >\n          </div>\n        </van-form>\n      </div>\n    </van-action-sheet>\n\n    <!-- 地址选择面板 -->\n    <van-popup\n      v-model=\"addressShow\"\n      round\n      position=\"bottom\"\n      :style=\"{ height: '45%' }\"\n    >\n      <van-area\n        :area-list=\"areaList\"\n        ref=\"myArea\"\n        @confirm=\"onConfirm\"\n        @cancel=\"onCancel\"\n      />\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { get, post } from \"@/http/axios\";\nimport { areaList } from \"@vant/area-data\";\nimport { mapActions, mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      // 地址数组\n      addressData: [],\n      // 是否显示地址面板\n      show: false,\n      // 地址面板标题\n      addressTitle: \"新增地址\",\n      // 地区数据\n      areaList,\n      // 地址选择弹出层\n      addressShow: false,\n      // 地址字符串\n      addressStr: \"\",\n      // 表单对象\n      addressForm: {\n        // 省\n        province: \"\",\n        // 市\n        city: \"\",\n        // 区\n        area: \"\",\n        // 具体地址\n        address: \"\",\n        // 收货人姓名\n        username: \"\",\n        // 收货人电话\n        telephone: \"\",\n        // 地址id\n        id: \"\",\n        userId: \"\",\n      },\n    };\n  },\n  computed: {\n    // 引入用户信息对象\n    ...mapState(\"user\", [\"userInfo\"]),\n  },\n  methods: {\n    // 引入用户数据\n    ...mapActions(\"user\", [\"getUserInfo\"]),\n    // 查询用户信息\n    queryUser() {\n      // this.addressForm.userId=this.userInfo.id\n      this.getUserInfo();\n    },\n    onClickLeft() {\n      this.$router.go(-1);\n    },\n    // 获取地址列表\n    async getAllAddress() {\n      let data = {\n        page: 1,\n        pageSize: 100,\n        userId: this.userInfo.id,\n      };\n      let res = await get(\"/address/pageQuery\", data);\n      this.addressData = res.data.data.list;\n      console.log(res.data.data.list);\n    },\n    // 新增按钮\n    addBtn() {\n      this.show = true;\n      // 清空表单对象\n      this.addressForm = {};\n      this.addressStr = \"\";\n      this.addressTitle = \"新增地址\";\n      // this.addressForm.userId=this.userInfo.id\n    },\n    // 删除地址\n    deleteAddress(id){\n      this.$dialog\n        .confirm({\n          message: \"您确定要删除该常用地址吗？\",\n        })\n        .then(async() => {\n          let res = await get(\"/address/deleteById\", { id });\n          this.getAllAddress();\n        })\n        .catch(() => {});\n    },\n    //确定选择城市\n    onConfirm(val) {\n      this.addressStr = val\n        .filter((item) => !!item)\n        .map((item) => item.name)\n        .join(\"-\");\n      this.addressForm.province = val[0].name;\n      this.addressForm.city = val[1].name;\n      this.addressForm.area = val[2].name;\n      this.addressShow = false; //关闭弹框\n    },\n    //取消选中城市\n    onCancel() {\n      this.addressShow = false;\n      this.$refs.myArea.reset(); // 重置城市列表\n    },\n    // 修改地址\n    editAddress(address) {\n      this.addressTitle = \"修改地址\";\n      this.show = true;\n      this.addressForm.id = address.id;\n      this.addressForm.username = address.username;\n      this.addressForm.telephone = address.telephone;\n      this.addressForm.address = address.address;\n      this.addressForm.province = address.province;\n      this.addressForm.city = address.city;\n      this.addressForm.area = address.area;\n      this.addressStr =\n        address.province + \"-\" + address.city + \"-\" + address.area;\n    },\n    // 提交地址\n    submitAddress() {\n      this.addressForm.userId = this.userInfo.id;\n      this.$refs.form\n        .validate()\n        .then(async () => {\n          let res = await post(\"/address/saveOrUpdate\", this.addressForm);\n          this.getAllAddress();\n          this.show = false;\n          this.$toast.success(\"提交成功\");\n        })\n        .catch(() => {\n          this.$toast.fail(\"提交失败\");\n        });\n    },\n  },\n  created() {\n    this.getAllAddress();\n    this.queryUser();\n  },\n};\n</script>\n\n<style scoped>\n.van-cell__title {\n  flex: 5;\n}\n.van-cell__title span {\n  font-size: 16px;\n}\n.van-cell__label {\n  font-size: 14px;\n}\n.van-cell {\n  box-shadow: 2px 2px 2px rgb(247 248 249 / 80%);\n  background-color: #fff;\n  width: 98%;\n  border-radius: 5px;\n  margin: 5px auto;\n  padding: 10px;\n}\n.btn{\n  width: 53%;\n  height: 40px;\n  text-align: center;\n  border-radius: 22px;\n  line-height: 40px;\n  margin: 2em auto 0px;\n}\n.addBtn {\n  background-image: linear-gradient(-20deg, #ddd6f3 0%, #faaca8 100%, #faaca8 100%);\n  color: rgb(255, 255, 255);\n  font-size: 16px;\n}\n/deep/ .van-nav-bar__title {\n  color: #fff;\n}\n/deep/ .van-nav-bar__text {\n  color: #fff;\n}\n/deep/ .van-icon-arrow-left {\n  color: #fff;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Address.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Address.vue?vue&type=template&id=7ba6d914&scoped=true&\"\nimport script from \"./Address.vue?vue&type=script&lang=js&\"\nexport * from \"./Address.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Address.vue?vue&type=style&index=0&id=7ba6d914&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ba6d914\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}