{"version":3,"sources":["webpack:///./src/views/orderConfirm/orderConfirm.vue?2b9f","webpack:///./src/views/orderConfirm/orderConfirm.vue?fbae","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///src/views/orderConfirm/orderConfirm.vue","webpack:///./src/views/orderConfirm/orderConfirm.vue?85be","webpack:///./src/views/orderConfirm/orderConfirm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","showAddress","staticStyle","_v","_s","selectAddress","name","tel","address","_l","orderLines","values","line","key","productId","productName","price","number","total","showTime","currentDate","showPasswordInput","model","value","callback","$$v","show","expression","addressList","select","onConfirm","onEdit","chosenAddressId","editAddress","ref","onSubmitEditForm","required","message","editFormNow","$set","addressStr","showArea","areaList","onConfirmAddress","onCancel","addressDetail","minDate","maxDate","formatter","Change","style","width","height","showPop","showKeyboard","errorInfo","staticRenderFns","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","changeLine","id","orderId","res","status","addressArr","forEach","component"],"mappings":"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","file":"static/js/chunk-1aa12e19.cfff8155.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderConfirm.vue?vue&type=style&index=0&id=fa078a8a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderConfirm\"},[_c('div',{staticClass:\"header\"},[_c('van-sticky',[_c('van-nav-bar',{attrs:{\"title\":\"订单确认\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}})],1)],1),_c('div',{staticClass:\"address\",on:{\"click\":_vm.showAddress}},[_c('div',[_c('div',{staticStyle:{\"color\":\"#323233\"}},[_c('van-icon',{attrs:{\"name\":\"location-o\",\"size\":\"16\"}}),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"服务地址\")])],1),_c('div',{staticStyle:{\"color\":\"#969799\",\"font-size\":\"14px\"}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(\"姓名：\"+_vm._s(_vm.selectAddress.name))]),_c('span',[_vm._v(\"电话：\"+_vm._s(_vm.selectAddress.tel))]),_c('div',[_c('span',[_vm._v(\"地址：\"+_vm._s(_vm.selectAddress.address))])])])])]),_c('div',{staticClass:\"orderDetail\"},[_c('div',[_c('div',{staticStyle:{\"color\":\"#323233\"}},[_c('van-icon',{attrs:{\"name\":\"orders-o\",\"size\":\"16\"}}),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"订单详情\")]),_c('div',{staticClass:\"detailProject\",staticStyle:{\"color\":\"#969799\",\"font-size\":\"14px\"}},[_vm._l((_vm.orderLines.values()),function(line){return _c('van-row',{key:line.productId},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',[_vm._v(_vm._s(line.productName))]),_c('span',[_vm._v(\"￥\"+_vm._s(line.price))]),_c('span',[_vm._v(\"x\"+_vm._s(line.number))])])])}),_c('van-divider'),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',[_vm._v(\"总价：\")]),_c('span',[_vm._v(\"￥\"+_vm._s(_vm.total))])])],2)],1)])]),_c('div',{staticClass:\"serviceTime\",on:{\"click\":function($event){_vm.showTime=true}}},[_c('div',[_c('div',{staticStyle:{\"color\":\"#323233\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('div',[_c('van-icon',{attrs:{\"name\":\"aim\",\"size\":\"12\"}}),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"服务时间\")])],1),_c('div',[_c('span',{staticStyle:{\"color\":\"#969799\",\"font-size\":\"14px\"}},[_vm._v(_vm._s(_vm.currentDate))])])])])])]),_c('div',{staticClass:\"submit\"},[_c('div',{staticClass:\"submitBtn\",on:{\"click\":_vm.showPasswordInput}},[_vm._v(\"确认提交\")])]),_c('van-action-sheet',{attrs:{\"title\":\"选择地址\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"content\"},[_c('van-address-list',{attrs:{\"list\":_vm.addressList,\"add-button-text\":\"确定\",\"default-tag-text\":\"默认\"},on:{\"click-item\":_vm.select,\"add\":_vm.onConfirm,\"edit\":_vm.onEdit},model:{value:(_vm.chosenAddressId),callback:function ($$v) {_vm.chosenAddressId=$$v},expression:\"chosenAddressId\"}})],1)]),_c('van-action-sheet',{attrs:{\"title\":\"修改地址\"},model:{value:(_vm.editAddress),callback:function ($$v) {_vm.editAddress=$$v},expression:\"editAddress\"}},[_c('van-form',{ref:\"form\",on:{\"submit\":_vm.onSubmitEditForm}},[_c('van-field',{attrs:{\"name\":\"username\",\"label\":\"姓名\",\"placeholder\":\"姓名\",\"rules\":[{ required: true, message: '请填写姓名' }]},model:{value:(_vm.editFormNow.name),callback:function ($$v) {_vm.$set(_vm.editFormNow, \"name\", $$v)},expression:\"editFormNow.name\"}}),_c('van-field',{attrs:{\"name\":\"telephone\",\"label\":\"电话\",\"placeholder\":\"电话\",\"rules\":[{ required: true, message: '请填写电话' }]},model:{value:(_vm.editFormNow.tel),callback:function ($$v) {_vm.$set(_vm.editFormNow, \"tel\", $$v)},expression:\"editFormNow.tel\"}}),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":\"area\",\"value\":_vm.addressStr,\"label\":\"地区选择\",\"placeholder\":\"点击选择省市区\"},on:{\"click\":function($event){_vm.showArea = true}}}),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showArea),callback:function ($$v) {_vm.showArea=$$v},expression:\"showArea\"}},[_c('van-area',{attrs:{\"area-list\":_vm.areaList},on:{\"confirm\":_vm.onConfirmAddress,\"cancel\":_vm.onCancel}})],1),_c('van-field',{attrs:{\"name\":\"address\",\"label\":\"详细地址\",\"placeholder\":\"详细地址\",\"rules\":[{ required: true, message: '请填写详细地址' }]},model:{value:(_vm.addressDetail),callback:function ($$v) {_vm.addressDetail=$$v},expression:\"addressDetail\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1),_c('van-action-sheet',{attrs:{\"title\":\"选择服务时间\"},model:{value:(_vm.showTime),callback:function ($$v) {_vm.showTime=$$v},expression:\"showTime\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"datetime\",\"title\":\"\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate,\"formatter\":_vm.formatter},on:{\"confirm\":_vm.Change,\"cancel\":function($event){_vm.showTime=false},\"change\":_vm.Change},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_c('van-popup',{style:({ width:'90%', height: '50%' }),model:{value:(_vm.showPop),callback:function ($$v) {_vm.showPop=$$v},expression:\"showPop\"}},[_c('van-password-input',{attrs:{\"value\":_vm.value,\"focused\":_vm.showKeyboard,\"info\":\"密码为 6 位数字\",\"error-info\":_vm.errorInfo},on:{\"focus\":function($event){_vm.showKeyboard = true}}}),_c('van-number-keyboard',{attrs:{\"show\":_vm.showKeyboard},on:{\"blur\":function($event){_vm.showKeyboard = false}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{staticStyle:{\"height\":\"80px\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\n    <div class=\"orderConfirm\">\n        <!-- 顶部导航栏 -->\n        <div class=\"header\">\n            <van-sticky>\n                <van-nav-bar title=\"订单确认\" left-text=\"返回\" left-arrow @click-left=\"$router.go(-1)\" />\n            </van-sticky>\n        </div>\n        <!-- 服务地址区域 -->\n        <div class=\"address\" @click=\"showAddress\">\n            <div>\n                <!-- 服务地址 -->\n                <div style=\"color: #323233;\">\n                    <van-icon name=\"location-o\" size=\"16\" /><span style=\"margin-left: 5px;\">服务地址</span>\n                </div>\n                <!-- 姓名 电话 -->\n                <div style=\"color:#969799;font-size: 14px;\">\n                    <span style=\"margin-right: 10px;\">姓名：{{selectAddress.name}}</span>\n                    <span>电话：{{selectAddress.tel}}</span>\n                    <!-- 地址 -->\n                    <div><span>地址：{{selectAddress.address}}</span></div>\n                </div>\n            </div>\n        </div>\n        <!-- 订单详情区域 -->\n        <div class=\"orderDetail\">\n            <div>\n                <div style=\"color: #323233;\">\n                    <van-icon name=\"orders-o\" size=\"16\" /><span style=\"margin-left: 5px;\">订单详情</span>\n                    <!-- 服务项目 价格 数量 -->\n                    <div style=\"color:#969799;font-size: 14px;\" class=\"detailProject\">\n                        <van-row v-for=\"line of orderLines.values()\" :key=\"line.productId\">\n                            <div style=\"display: flex;justify-content: space-between;\">\n                                <span>{{line.productName}}</span>\n                                <span>￥{{line.price}}</span>\n                                <span>x{{line.number}}</span>\n                            </div>\n                        </van-row>\n\n                        <!-- 分割线-->\n                        <van-divider />\n                        <div style=\"display: flex;justify-content: space-between;\">\n                            <span>总价：</span><span>￥{{total}}</span></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- 服务时间区域 -->\n        <div class=\"serviceTime\" @click=\"showTime=true\">\n            <div>\n                <div style=\"color: #323233;\">\n                    <div style=\"display: flex;justify-content: space-between;\">\n                        <div>\n                            <van-icon name=\"aim\" size=\"12\" />\n                            <span style=\"margin-left: 5px;\">服务时间</span>\n                        </div>\n                        <div><span style=\"color: #969799;font-size: 14px;\">{{currentDate}}</span></div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <!-- 确认提交按钮 -->\n        <div class=\"submit\">\n            <div class=\"submitBtn\" @click=\"showPasswordInput\">确认提交</div>\n        </div>\n\n        <!-- 地址面板 -->\n        <van-action-sheet v-model=\"show\" title=\"选择地址\">\n            <div class=\"content\">\n                <van-address-list v-model=\"chosenAddressId\" @click-item=\"select\" :list=\"addressList\"\n                    add-button-text=\"确定\" @add=\"onConfirm\" default-tag-text=\"默认\" @edit=\"onEdit\" />\n            </div>\n        </van-action-sheet>\n\n        <!-- 修改地址动作面板 -->\n        <van-action-sheet v-model=\"editAddress\" title=\"修改地址\">\n            <van-form @submit=\"onSubmitEditForm\" ref=\"form\">\n                <van-field v-model=\"editFormNow.name\" name=\"username\" label=\"姓名\" placeholder=\"姓名\"\n                    :rules=\"[{ required: true, message: '请填写姓名' }]\" />\n                <van-field v-model=\"editFormNow.tel\" name=\"telephone\" label=\"电话\" placeholder=\"电话\"\n                    :rules=\"[{ required: true, message: '请填写电话' }]\" />\n\n                <van-field readonly clickable name=\"area\" :value=\"addressStr\" label=\"地区选择\" placeholder=\"点击选择省市区\"\n                    @click=\"showArea = true\" />\n                <van-popup v-model=\"showArea\" position=\"bottom\">\n                    <van-area :area-list=\"areaList\" @confirm=\"onConfirmAddress\" @cancel=\"onCancel\" />\n                </van-popup>\n                <van-field v-model=\"addressDetail\" name=\"address\" label=\"详细地址\" placeholder=\"详细地址\"\n                    :rules=\"[{ required: true, message: '请填写详细地址' }]\" />\n                <div style=\"margin: 16px;\">\n                    <van-button round block type=\"info\" native-type=\"submit\">提交</van-button>\n                </div>\n            </van-form>\n        </van-action-sheet>\n\n\n        <!-- 服务时间面板 -->\n        <van-action-sheet v-model=\"showTime\" title=\"选择服务时间\">\n            <van-datetime-picker v-model=\"currentDate\" type=\"datetime\" title=\"\" :min-date=\"minDate\" :max-date=\"maxDate\"\n                :formatter=\"formatter\" @confirm=\"Change\" @cancel=\"showTime=false\" @change=\"Change\" />\n        </van-action-sheet>\n        <!-- 密码输入框弹出层 -->\n        <van-popup v-model=\"showPop\" :style=\"{ width:'90%', height: '50%' }\">\n            <!-- 密码输入框 -->\n            <van-password-input :value=\"value\" :focused=\"showKeyboard\" @focus=\"showKeyboard = true\" info=\"密码为 6 位数字\"\n                :error-info=\"errorInfo\" />\n            <van-number-keyboard v-model=\"value\" :show=\"showKeyboard\" @blur=\"showKeyboard = false\" />\n        </van-popup>\n        <div style=\"height: 80px;\"></div>\n    </div>\n</template>\n<script>\n    import {\n        areaList\n    } from '@vant/area-data';\n    // 引入vuex的辅助函数\n    import {\n        mapActions,\n        mapState,\n        mapGetters,\n        mapMutations\n    } from 'vuex'\n    import {\n        get,\n        post,\n        post_json\n    } from '@/http/axios'\n    export default {\n        data() {\n            return {\n                show: false,\n                chosenAddressId: 0,\n                // 地址数据\n                addressList: [],\n                // 选中的地址\n                selectAddress: {},\n                showTime: false,\n                currentDate: new Date(),\n                minDate: new Date(),\n                maxDate: new Date(2021, 12, 1),\n                // 时间戳\n                timestamp: '',\n                // 解析出来的对象\n                line: [],\n                // 提交订单成功对象\n                message: '',\n                // 数字键盘的值\n                value: '',\n                showKeyboard: true,\n                showPop: false,\n                errorInfo: '',\n                editAddress: false,\n                // 提交修改表单\n                eidtSubForm: {\n                    // 省\n                    province: \"\",\n                    // 市\n                    city: \"\",\n                    // 区\n                    area: \"\",\n                    // 具体地址\n                    address: \"\",\n                    // 收货人姓名\n                    username: \"\",\n                    // 收货人电话\n                    telephone: \"\",\n                    // 地址id\n                    id: \"\",\n                    userId: \"\",\n                },\n                // 当前修改地址\n                editFormNow: {\n\n                },\n                addressStr: '',\n                showArea: false,\n                areaList, // 数据格式见 Area 组件文档,\n                // 根据地址分割\n                province: '',\n                city: '',\n                area: '',\n                // 具体地址\n                addressDetail: '',\n                // 地址点击修改Id\n                formId: ''\n\n\n\n            }\n        },\n        created() {\n            this.getAllAddress()\n            this.queryUser()\n            this.Change()\n            // 将时间转换成时间戳\n            this.changeTimeToChuo()\n            // 解析orderLines\n            this.orderLineChange()\n        },\n        computed: {\n            ...mapState('user', ['userInfo']),\n            ...mapState('shopcart', ['orderLines']),\n            // 购物车总价\n            ...mapGetters('shopcart', ['total']),\n        },\n        watch: {\n            value(value) {\n                if (value.length === 6 && value !== this.userInfo.password) {\n                    this.errorInfo = '密码错误';\n                } else if (value.length === 6 && value == this.userInfo.password) {\n                    this.errorInfo = '';\n                    // 密码正确支付\n                    this.submitOrder()\n                }\n            },\n        },\n        methods: {\n            ...mapActions('user', ['getUserInfo']),\n            ...mapMutations('shopcart', ['addShopcart', 'clearShopcart']),\n            // 解析obejectMap对象即orderLine\n            orderLineChange() {\n                for (let line of this.orderLines.values()) {\n                    this.line.push(line)\n                }\n            },\n            //取消选中城市\n            onCancel() {\n                this.showArea = false;\n                //this.$refs.myArea.reset(); // 重置城市列表\n            },\n            //确定选择城市\n            onConfirm(values) {\n                this.show = false;\n            },\n            // 提交订单显示支付密码框\n            showPasswordInput() {\n                this.$dialog.alert({\n                    title: '支付金额',\n                    message: '￥' + this.total,\n                    theme: 'round-button',\n                }).then(async () => {\n                    // 展示密码输入框\n                    this.showPop = true;\n                });\n\n            },\n            // 提交订单接口\n            async submitOrder() {\n                let changeLine = [...this.line]\n                delete changeLine[0].productName\n                changeLine[0].id = 0\n                changeLine[0].orderId = 0\n                let order = {\n                    addressId: this.chosenAddressId,\n                    customerId: this.userInfo.id,\n                    orderLines: changeLine,\n                    serviceTime: this.timestamp\n                }\n                let res = await post_json('/order/submitOrder', order)\n                if (res.status == 200) {\n                    this.showPop = false\n                    this.$toast.success(\"支付成功!\");\n                    this.$router.push({\n                        path: '/manager/order'\n                    })\n                }\n            },\n            // 将时间转换成时间戳\n            changeTimeToChuo() {\n                var date = new Date(this.currentDate)\n                this.timestamp = date.getTime()\n                // this.timestamp = this.timestamp / 1000;\n            },\n            // 将时间选择器的值转换成默认值\n            Change() {\n                this.showTime = false\n                var date = this.currentDate;\n                var seperator1 = \"-\";\n                var seperator2 = \":\";\n                var month = date.getMonth() + 1;\n                var strDate = date.getDate();\n                var hour = date.getHours();\n                var minute = date.getMinutes() > 9 ? date.getMinutes() : \"0\" + date.getMinutes();\n                if (month >= 1 && month <= 9) {\n                    month = \"0\" + month;\n                }\n                if (strDate >= 0 && strDate <= 9) {\n                    strDate = \"0\" + strDate;\n                }\n                if (hour >= 0 && hour <= 9) {\n                    hour = \"0\" + hour;\n                }\n                this.currentDate =\n                    date.getFullYear() +\n                    seperator1 +\n                    month +\n                    seperator1 +\n                    strDate +\n                    \" \" +\n                    hour +\n                    seperator2 +\n                    minute +\n                    seperator2 +\n                    \"00\";\n            },\n\n            formatter(type, val) {\n                if (type === 'year') {\n                    return val + '年';\n                }\n                if (type === 'month') {\n                    return val + '月';\n                }\n                if (type === 'day') {\n                    return val + '日';\n                }\n                if (type === 'hour') {\n                    return val + '时';\n                }\n                if (type === 'minute') {\n                    return val + '分';\n                }\n                return val;\n            },\n            select(item) {\n                this.selectAddress = item\n            },\n            // 确定\n            onConfirmAddress(val) {\n                this.addressStr = val\n                    .filter((item) => !!item)\n                    .map((item) => item.name)\n                    .join(\"-\");\n\n                this.province = val[0].name;\n                this.city = val[1].name;\n                this.area = val[2].name;\n                this.showArea = false //关闭弹框\n            },\n            // 编辑地址\n            onEdit(item, index) {\n                this.formId = item.id\n                this.editFormNow = item\n                // 根据地址分割\n                var index11 = 0;\n                var index1 = this.editFormNow.address.indexOf('省');\n                var index3 = 0;\n                if (index1 == -1) {\n                    index11 = this.editFormNow.address.indexOf('自治区');\n                    if (index11 != -1) {\n                        this.province = this.editFormNow.address.slice(0, index11 + 3)\n                    } else {\n                        this.province = this.editFormNow.address.slice(0, 3)\n                        index3 = 1\n                    }\n                } else {\n                    this.province = this.editFormNow.address.slice(0, index1 + 1)\n                }\n                var index2 = this.editFormNow.address.indexOf(\"市\")\n                if (index3 == 1) {\n                    this.city = this.editFormNow.address.slice(0, 3); //没有市就取到省\n                    index2 = 5\n                } else {\n                    if (index11 == 0) {\n                        this.city = this.editFormNow.address.slice(index1 + 1, index2 + 1); //有值从省取到市\n                    } else {\n                        this.city = this.editFormNow.address.slice(index11 + 3, index2 + 1); //从自治区取到市\n                    }\n                }\n\n                var newAddress = item.address.slice(index2 + 1)\n\n\n                var index3 = newAddress.indexOf(\"区\")\n                if (index3 == -1) {\n                    index3 = newAddress.indexOf(\"县\");\n                    this.area = newAddress.slice(0, index3 + 1)\n                } else {\n                    this.area = newAddress.slice(0, index3 + 1)\n                    this.addressDetail = newAddress.slice(index3 + 1)\n                }\n\n                // 展示面板\n                this.editAddress = true\n                // 显示级联选择地址\n                this.addressStr =\n                    this.province + \"-\" + this.city + \"-\" + this.area;\n            },\n\n            onSubmitEditForm(values) {\n                this.eidtSubForm.id = this.formId\n                this.eidtSubForm.userId = this.userInfo.id;\n                this.eidtSubForm.username = values.username\n                this.eidtSubForm.telephone = values.telephone\n                this.eidtSubForm.province = this.province\n                this.eidtSubForm.area = this.area\n                this.eidtSubForm.city = this.city\n                this.eidtSubForm.address = values.address\n                this.$refs.form\n                    .validate()\n                    .then(async () => {\n                        let res = await post(\"/address/saveOrUpdate\", this.eidtSubForm);\n                        this.addressList = []\n                        this.getAllAddress();\n                        this.$toast.success(\"修改成功\");\n                    })\n                    .catch(() => {\n                        this.$toast.fail(\"修改失败\");\n                    });\n                this.editAddress = false\n\n            },\n            // 分页查询获取地址栏数据\n            async getAllAddress() {\n                let data = {\n                    page: 1,\n                    pageSize: 100,\n                    userId: this.userInfo.id\n                }\n                let res = await get('/address/pageQuery', data);\n\n                let addressArr = res.data.data.list;\n                if (!addressArr) {\n                    return;\n                }\n                addressArr.forEach((item, index) => {\n                    let addressObj = {}\n                    addressObj.id = item.id,\n                        addressObj.name = item.username,\n                        addressObj.tel = item.telephone,\n\n                        // 显示详细地址\n                        this.detailAddress = item.address;\n                    // 拼接地址\n                    addressObj.address = item.province + item.city + item.area + item.address\n                    if (addressObj.id == 2300) {\n                        addressObj.isDefault = true\n                    } else {\n                        addressObj.isDefault = item.isDefault\n                    }\n                    this.addressList.push(addressObj)\n                    // 默认选中的id\n                    this.chosenAddressId = this.addressList[0].id\n                    // 赋值默认进来的地址\n                    this.selectAddress = this.addressList[0]\n\n                });\n            },\n            // 获取用户信息\n            queryUser() {\n                this.getUserInfo()\n            },\n            // 点击切换地址\n            showAddress() {\n                // 显示地址面板\n                this.show = true\n            }\n        },\n    }\n</script>\n<style scoped>\n    .submitBtn {\n        width: 53%;\n        height: 40px;\n        background-image: linear-gradient(-20deg, #ddd6f3 0%, #faaca8 100%, #faaca8 100%);\n        text-align: center;\n        color: #fff;\n        border-radius: 22px;\n        line-height: 40px;\n        margin: 0 auto;\n        margin-top: 2em;\n        cursor: pointer;\n    }\n\n    /* 提交按钮 */\n    .submit {\n        margin: 0 auto;\n    }\n\n    .van-divider {\n        margin: 8px 0;\n    }\n\n    .address,\n    .orderDetail,\n    .serviceTime {\n        width: 100%;\n        box-shadow: 2px 2px 2px 2px rgb(158 117 255 / 20%);\n        border-radius: 5px;\n        transition: .3s;\n        height: 100px;\n        padding: 20px;\n        box-sizing: border-box;\n        margin-top: 10px;\n    }\n\n    .orderDetail {\n        height: 120px;\n        margin-top: 10px;\n    }\n\n    .orderConfirm {\n        width: 95%;\n        margin: 0 auto;\n    }\n\n    .serviceTime {\n        height: 48px;\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderConfirm.vue?vue&type=template&id=fa078a8a&scoped=true&\"\nimport script from \"./orderConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./orderConfirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderConfirm.vue?vue&type=style&index=0&id=fa078a8a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa078a8a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}